
-- Login inicial
-- ti3k5791_jeferosonkuhn com senha PDEdVWceeRi6bZC


USE ti3k5791_jeferosonkuhn;

CREATE TABLE clientes (
    -- coluna/ tipo de dado/ restrição
    idclientes INT PRIMARY KEY,
    nome VARCHAR(100),
    telefone VARCHAR(100)
);



CREATE TABLE Clientes 
( 
 ID_Cliente INT PRIMARY KEY AUTO_INCREMENT,  
 Nome INT PRIMARY KEY NOT NULL,  
 Email INT PRIMARY KEY AUTO_INCREMENT,  
 Telefone INT PRIMARY KEY AUTO_INCREMENT,  
); 

CREATE TABLE Tabela de Pedidos 
( 
 ID_Pedido INT PRIMARY KEY AUTO_INCREMENT,  
 ID_Cliente INT,  
 UNIQUE (ID_Cliente: FK)
); 

ALTER TABLE Tabela de Pedidos ADD FOREIGN KEY(ID_Cliente) REFERENCES Clientes (ID_Cliente);



ALTER TABLE clientes ADD email VARCHAR(100);

ALTER TABLE clientes
ADD emailTEXT;

ALTER TABLE clientes
CHANGE COLUMN email emailCliente VARCHAR(100);

ALTER TABLE clientes 
DROP COLUMN telefone;

ALTER TABLE clientes 
RENAME TO Clientes

DROP TABLE clientes;

INSERT INTO clientes (idclientes, nome, emailCliente)
VALUES (1,'joão Silva', 'joão.silva@email.com')

INSERT INTO clientes (idclientes, nome, emailCliente)
VALUES (1,'joão Silva', 'joão.silva@email.com'),
(2,'Maria', 'maria@email.com'),
(3,'Jonas', 'jonas@email.com'),
(4,'Ana', 'ana@email.com');

UPDATE clientes
SET email = 'novo.email@email.com'
WHERE idclientes = 1; -- condição

-- PROCURA INFORMAÇÕES NAS TABELAS
SELECT emailCliente
FROM Clientes;

-- CONSULTA COM FILTRO
SELECT Clientes
FROM Clientes
WHERE ID_Cliente = 1;

-- CONSULTA COM ORDENAÇÃO
 SELECT *
 FROM Clientes
 ORDER BY nome ASC; -- OU DESC

 USE ti3k5791_jeferosonkuhn;

--CONSULTA COM LIMITE DE RESULTADOS
SELECT ID_Cliente, nome, Email
FROM Clientes
LIMIT 3;

-- CONSULTA COM JUNÇÃO DE TABELAS
SELECT clientes.idcliente, clientes.nome, clientes.emailCliente, pedidos.numeropedido
FROM clientes
INNER JOIN pedidos ON clientes.idcliente = pedidos.idcliente

SELECT nome, GROUP_CONCAT(emailCliente SEPARATOR',') AS email
FROM clientes
GROUP BY pedidos ON clientes.idcliente = pedidos.idcliente



INSERT INTO nome, emailCliente
VALUES (6,"JEFERSON", "jeferson@email")
(7,"TALITA", "talita@email")
(8,"JEFERSON", "jeferson@email")
(9,"TALITA", "talita@email")
(10,"JEFERSON", "jeferson@email")


CREATE TABLE pedidos (
    idPedido INT AUTO_INCREMENT PRIMARY KEY,
    idcliente INT ,
    numeropedido VARCHAR(50),
    valorTotal DECIMAL(10, 2),
    datapedido DATE,USE ti3k5791_jeferosonkuhn;
    FOREIGN KEY (idclientes) REFERENCES clientes(idclientes)
    );

    INSERT INTO pedidos(idclientes, pedidos, valor, datapedido)
VALUES (1,'ped-001', 150, '2024-07-12'),
       (2,'ped-002', 250, '2024-07-12'),
       (3,'ped-003', 180, '2024-07-13');

       -- EXERCÍCIOS

       UPDATE Autores SET DataNascimento = '1997', economia  = 'Ele advoga a busca pela independência financeira através de investimento, imóveis, ter seu próprio negócio e o uso de táticas financeiras de proteção do patrimônio..' WHERE AutorID = 1,

UPDATE Autores SET DataNascimento = '	2011', Realização pessoal  = ' O livro ensina a superar medos e limitações e aproveitar a adversidade para descobrir um benefício equivalente.' WHERE AutorID = 3;
       
        