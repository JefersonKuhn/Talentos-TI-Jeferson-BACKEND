

USE empresa_jeferson;

CREATE TABLE empregados (
    empregados_id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(50) NOT NULL,
    salario DECIMAL(10, 2) NOT NULL,
    departamento_id INT,
    FOREIGN KEY (departamento_id) REFERENCES departamento(departamento_ID)
    );

  -- Adicionando dados na tabela

    INSERT INTO departamento (nome) VALUES
    ('vENDAS'),
    ('Marketing'),
    ('TI'),
    ('Recursos humanos');

 -- Adicionando empregados na tabela
    USE empresa_jeferson;

    INSERT INTO empregados (nome, salario, departamento_id) VALUES
    ('Tiringa', 5000.00, 1),
    ('Luiz do Som', 6000.00, 1),
    ('Musão', 4000.00, 2),
    ('Pililiu',5500.00, 3),
    ('Zé', 7000.00, 3),
    ('Tião', 3000.00, 4),
    ('Barba'4500.00, 2),
    ('Tonho', 3500.00, 1);

    -- Consulta salario maior

   USE empresa_jeferson;

    SELECT nome, salario
    FROM empregados
    WHERE salario > (SELECT AVG (salario)FROM empregados);

    -- ALTERANDO TABELA
    USE empresa_jeferson;
    ALTER TABLE departamento
    ADD localizacao VARCHAR(50);

    USE empresa_jeferson;
    UPDATE departamento SET 
    localizacao = 'São Paulo' WHERE
    nome = 'Vendas';

    USE empresa_jeferson;
    UPDATE departamento SET 
    localizacao = 'Rio de Janeiro' WHERE
    nome = 'Marketing';

    USE empresa_jeferson;
    UPDATE departamento SET 
    localizacao = 'São Paulo' WHERE
    nome = 'TI';

    USE empresa_jeferson;
    UPDATE departamento SET 
    localizacao = 'Belo Horizonte' WHERE
    nome = 'Recursos humanos';

    -- Subconsulta de colunas únicas
   -- Exemplo com IN

USE empresa_jeferson;
SELECT nome
FROM empregados
WHERE departamento_id IN (SELECT departamento_id FROM departamentos WHERE localizacao = 'São Paulo');

 Exemplo com ANY

Exemplo: Salário Maior que Qualquer Salário no Departamento de TI

USE empresa_jeferson;
SELECT nome, salario
FROM empregados
WHERE salario > ANY (SELECT salario FROM empregados WHERE departamento_id = (SELECT departamento_id FROM departamentos WHERE nome = 'TI'));

USE empresa_jeferson;
SELECT nome, salario
FROM empregados
WHERE salario > ALL (SELECT salario FROM empregados WHERE departamento_id = (SELECT id FROM departamentos WHERE nome = 'TI'));
   
   USE empresa_jeferson;
   ALTER TABLE empregados ADD titulo VARCHAR(50);
   CREATE TABLE cargos (
    cargos_id INT AUTO_INCREMENT PRIMARY KEY,
    titulo VARCHAR(50) NOT NULL,
    departamento_id INT,
    salario DECIMAL(10, 2) NOT NULL,
    FOREIGN KEY (departamento_id) REFERENCES departamentos(departamento_id)
);

USE empresa_jeferson;
ALTER TABLE empregados DROP COLUMN salario;

USE empresa_jeferson;
UPDATE empregados SET titulo = 'Gerente' WHERE nome = 'Maicou Diécson';
UPDATE empregados SET titulo = 'Assistente' WHERE nome = 'Vandercleison';
UPDATE empregados SET titulo = 'Analista' WHERE nome = 'Kerolaine';
UPDATE empregados SET titulo = 'Desenvolvedor' WHERE nome = 'Wanderneidson';
UPDATE empregados SET titulo = 'Engenheiro' WHERE nome = 'Kellen';
UPDATE empregados SET titulo = 'Assistente' WHERE nome = 'Chico';
UPDATE empregados SET titulo = 'Analista' WHERE nome = 'Greice Kelly';
UPDATE empregados SET titulo = 'Estagiário' WHERE nome = 'Xonas';

USE empresa_jeferson;
INSERT INTO cargos (titulo, departamento_id, salario) VALUES
('Gerente', 1, 8000.00),
('Assistente', 1, 4000.00),
('Analista', 2, 4500.00),
('Desenvolvedor', 3, 6000.00),
('Engenheiro', 3, 7000.00),
('Assistente', 4, 3500.00),
('Analista', 2, 4600.00),
('Estagiário', 1, 2000.00);
